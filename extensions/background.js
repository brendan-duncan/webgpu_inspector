(()=>{const e=new Map;chrome.runtime.onConnect.addListener((n=>{n.onMessage.addListener(((n,t)=>{const s=void 0!==n.tabId?n.tabId:t.sender.tab.id;e.has(s)||e.set(s,new Map);const a=e.get(s);a.has(t.name)||a.set(t.name,[]);const o=a.get(t.name);o.includes(t)||(o.push(t),t.onDisconnect.addListener((()=>{o.includes(t)&&o.splice(o.indexOf(t),1),0===o.length&&a.delete(t.name),0===a.size&&e.delete(s)})));const c=(e,n)=>{e.forEach((e=>{e.postMessage(n)}))};'webgpu-inspector-panel'===t.name&&a.has('webgpu-inspector-content')&&c(a.get('webgpu-inspector-content'),n),'webgpu-inspector-content'===t.name&&a.has('webgpu-inspector-panel')&&c(a.get('webgpu-inspector-panel'),n)}))}))})();
//# sourceMappingURL=background.js.map
